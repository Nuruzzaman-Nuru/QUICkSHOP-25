{% set search_type = search_type|default('all') %}
<form class="search-form" action="{{ url_for('main.search') }}" method="GET">
    <div class="input-group">
        <input class="form-control search-input" type="search" name="q" 
               value="{{ request.args.get('q', '') }}"
               placeholder="Search products, shops, categories..." 
               aria-label="Search" autocomplete="off">
        {% if search_type != 'all' %}
            <input type="hidden" name="type" value="{{ search_type }}">
        {% endif %}
        <button class="btn btn-outline-primary" type="submit">
            <i class="bi bi-search"></i>
        </button>
        <div class="search-suggestions dropdown-menu"></div>
    </div>
</form>